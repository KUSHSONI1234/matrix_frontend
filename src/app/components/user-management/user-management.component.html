<button routerLink="/login" style="width: 15%;">Login Button</button>

<div class="flex-container">
  <!-- Left: User List -->
  <div class="container" style="width: 40%">
    <h2>User Management</h2>

    <table class="styled-table" *ngIf="users.length > 0; else noDataTemplate">
      <thead>
        <tr>
          <th style="text-align: center">Username</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let user of users"
          (click)="onUserSelect(user)"
          [ngClass]="{
            'selected-row': selectedUser?.username === user.username
          }"
          style="cursor: pointer"
        >
          <td style="text-align: center">{{ user.username }}</td>
        </tr>
      </tbody>
    </table>

    <ng-template #noDataTemplate>
      <div class="no-data">No user data available.</div>
    </ng-template>
  </div>

  <!-- Right: Page Rights -->
  <div class="container" style="width: 50%" *ngIf="selectedUser">
    <h2>
      Page Rights for
      <span style="color: #007acc">{{ selectedUser.username }}</span>
    </h2>

    <table class="styled-table c-width">
      <thead>
        <tr>
          <th>Page Name</th>
          <th>Edit</th>
          <th>View</th>
          <th>Delete</th>
          <th>Add</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let page of pages">
          <td>{{ page.name }}</td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="page.edit"
              [disabled]="selectedUsername === 'sa'"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="page.view"
              [disabled]="selectedUsername === 'sa'"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="page.delete"
              [disabled]="selectedUsername === 'sa'"
            />
          </td>
          <td>
            <input
              type="checkbox"
              [(ngModel)]="page.add"
              [disabled]="selectedUsername === 'sa'"
            />
          </td>
        </tr>
      </tbody>
    </table>

    <div class="save-btn-container" style="margin-top: 15px">
      <button
        class="action-btn save"
        (click)="saveRights()"
        [disabled]="selectedUsername === 'sa'"
      >
        Save Rights
      </button>
    </div>
  </div>
</div>
